–ü–æ–Ω—è–ª! –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏. –î–∞–≤–∞–π—Ç–µ –∏—Ö —Å–æ—Ö—Ä–∞–Ω–∏–º –∏ –∑–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏–º –∫–æ–¥. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

## üîß **–†–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

### 1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```bash
cd /opt/mlm-project
git stash
```

### 2. –£–¥–∞–ª–∏—Ç–µ –Ω–µ–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã:
```bash
git clean -fd
```

### 3. –°–±—Ä–æ—Å—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–∞–π–ª–∞—Ö:
```bash
git reset --hard HEAD
```

### 4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ —Å Git:
```bash
git pull origin main
```

### 5. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
cd backend
npx prisma migrate deploy
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–π
npx prisma migrate status
```

### 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
pm2 restart mlm-backend
```

### 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
```bash
pm2 status
pm2 logs mlm-backend --lines 5
```

## üö® **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è):**

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–∞–∂–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å:

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –≤–µ—Ç–∫—É
cd /opt/mlm-project
git stash
git checkout -b local-changes-backup
git stash pop

# –í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ main –∏ –æ–±–Ω–æ–≤–∏—Ç–µ
git checkout main
git pull origin main

# –ó–∞—Ç–µ–º –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω—É–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

## ÔøΩÔøΩ **–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**: `pm2 logs mlm-backend`
2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ API**: `curl http://localhost:3000/api/defi-positions/1`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**: `npx prisma studio` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –ø–æ –ø–æ—Ä—è–¥–∫—É, –∏ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω! üöÄ

–ï—Å–ª–∏ –∏–∑–º–∏–Ω–µ–Ω–∏—è –≤ Prisma –Ω–µ—Ç—É, —Ç–æ –≤–∏–ø–æ–ª—è–Ω–µ–º —Å–ª–µ–¥—É—é—â–µ–µ: 

–ü—Ä–æ–±–ª–µ–º–æ–π —Å Prisma Studio - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:
 
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π Prisma Studio
   pkill -f "prisma studio"
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
   npx prisma studio --port 5555
   

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å backend —Å–µ—Ä–≤–∏—Å
pm2 stop mlm-backend

# 2. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Node.js
rm -rf node_modules/.cache
rm -rf .next
rm -rf .nuxt

# 3. –ü–µ—Ä–µ–π—Ç–∏ –≤ backend –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /var/www/mlm-project/backend

# 4. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Prisma
rm -rf node_modules/.prisma
rm -rf node_modules/@prisma

# 5. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Prisma
npm install @prisma/client

# 6. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client –∑–∞–Ω–æ–≤–æ
npx prisma generate

# 7. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend —Å–µ—Ä–≤–∏—Å –∑–∞–Ω–æ–≤–æ
pm2 start index.js --name mlm-backend

# 8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status

# 9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs mlm-backend

–ò–ª–∏ –±–æ–ª–µ–µ —Ä–∞–¥–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±:
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
pm2 stop all

# 2. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pm2 delete all

# 3. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à pm2
pm2 cleardump

# 4. –ü–µ—Ä–µ–π—Ç–∏ –≤ backend
cd /var/www/mlm-project/backend

# 5. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
rm -rf node_modules package-lock.json
npm install

# 6. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client
npx prisma generate

# 7. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend –∑–∞–Ω–æ–≤–æ
pm2 start index.js --name mlm-backend

# 8. –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /var/www/mlm-project

# 9. –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend –∑–∞–Ω–æ–≤–æ
pm2 start npm --name mlm-frontend -- run preview

# 10. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
pm2 save


–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞ –ª–æ–≥–æ–≤ PM2:

# 1. –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
pm2 flush mlm-backend

# 2. –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ª–æ–≥–∏ PM2
pm2 flush

# 3. –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
pm2 reload mlm-backend

# 4. –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (—É–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤)
pm2 flush
rm -rf /root/.pm2/logs/*

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤
du -sh /root/.pm2/logs/

# 6. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ (–ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏)
pm2 logs mlm-backend --lines 10

–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ Prisma Studio:

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/mlm-project/backend

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Prisma Studio
npx prisma studio --port 5555

# –ò–ª–∏ —á–µ—Ä–µ–∑ PM2 (–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫)
pm2 start "npx prisma studio --port 5555" --name prisma-studio

# –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –Ω–∞–ø—Ä—è–º—É—é - Ctrl+C
# –ï—Å–ª–∏ —á–µ—Ä–µ–∑ PM2
pm2 stop prisma-studio
pm2 delete prisma-studio

pm2 delete {id prisma-studio}

–ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ PM2:

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
pm2 stop prisma-studio

–ó–∞–ø—É—Å—Ç–∏—Ç—å
pm2 start prisma-studio
pm2 start "npx prisma studio --port 5555" --name prisma-studio

# 2. –£–¥–∞–ª–∏—Ç—å –∏–∑ PM2
pm2 delete prisma-studio

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status